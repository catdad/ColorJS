<!DOCTYPE html>
<html>
<head>
<title>ColorJS</title>


<!--link rel="shortcut icon" href="misc/picker_8704.png" /--> 
<link rel="icon" type="image/png" href="misc/brush_14813.png" />
<link rel="apple-touch-icon" href="misc/brush_14813.png" />
<!-- favicon attribution
	Eden Clairicia, from The Noun Project
	http://thenounproject.com/noun/paint-brush/#icon-No14813
-->

<link rel="stylesheet" href="misc/page.css">

</head>

<body>
	<a href='#' style='z-index:1;position:fixed;padding:5px 45px;width:123px;background-color:#F6C304;color:#fff;font-size:13px;font-family:sans-serif;text-decoration:none; font-weight:bold;-webkit-backface-visibility:hidden;border:2px dotted #fff;box-shadow:0 0 0 3px #F6C304,0 0 20px -3px rgba(0,0,0,.5);text-shadow:0 0 0 #fff,0 0 5px rgba(0,0,0,.3);bottom:50px;left:-50px;-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform: rotate(45deg);'>Fork me on GitHub</a>
	
	<!--
	<a href='https://github.com/catdad/ColorJS' style='z-index:1;position:absolute;padding:5px 45px;width:123px;background-color:#F6C304;color:#fff;font-size:13px;font-family:sans-serif;text-decoration:none; font-weight:bold;-webkit-backface-visibility:hidden;border:2px dotted #fff;box-shadow:0 0 0 3px #F6C304,0 0 20px -3px rgba(0,0,0,.5);text-shadow:0 0 0 #fff,0 0 5px rgba(0,0,0,.3);top:50px;right:-50px;-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform: rotate(45deg);'>Fork me on GitHub</a>
	-->
	
	<div id="container">
		<div id="sidebar">
			<div class="section">
				&nbsp;
			</div>
			<div class="section"><div class="title">Quick Schemes</div>
				<button onclick="calc('analog')">Analog</button>
				<button onclick="calc('triad')">Triad</button>
				<button onclick="calc('split')">Split</button>
				<button onclick="calc('complement')">Complement</button>
			</div>
			<div class="section"><div class="title">Single Color Schemes</div>
				<div class="input">
					<span>Scale</span>
					<input id="monochrome" type="number" min="0" max="10" placeholder="count" />
				</div>
				<div class="input">
					<span>Lighter</span>
					<input id="monochromeLight" type="number" min="0" max="10" placeholder="count" />
				</div>
				<div class="input">
					<span>Darker</span>
					<input id="monochromeDark" type="number" min="0" max="10" placeholder="count" />
				</div>
			</div>
			
			<div class="section"><div class="title">Multi-Color Schemes</div>
				<div class="input">
					<span>Quadrat</span>
					<input id="quadrat" type="number" min="-180" max="180" step="10" placeholder="degrees" />
				</div>
				<div class="input">
					<span>Contrasts</span>
					<input id="contrasts" type="number" min="0" max="10" placeholder="count" />
				</div>
				<div class="input">
					<span>Hue Shift</span>
					<input id="hueShift" type="number" min="0" max="360" placeholder="degrees" />
				</div>
			</div>
			
		</div>
	
		<div id="note">
			<div>
			This project (and documentation) is still a work in progress. 
			If you have any suggestions, please submit them on the GitHub page.
			</div>
		</div>
		
		<div id="content">
			
			<div id="hero">
				<div id="logo">ColorJS<img src="misc/brush-gray.png" /></div>
				
				<div id="colorPicker" class="inline block cp-normal">
					<div id="picker" class="inline"></div>
					<div id="slide" class="inline"></div>    
				</div>
				<div id="main" class="inline color">&nbsp;</div>
				<div id="info" class="inline block">Info</div>

			</div>
			
			<div id="results"></div>
			
		</div><!-- content -->

		<div id="footer">
			<div>
			ColorJS is created and maintained by <a href="https://github.com/catdad">catdad</a>. 
			Find it on <a href="https://github.com/catdad/ColorJS">GitHub</a>.
			</div>
		</div>
		
	</div><!-- container -->

	<script type="text/javascript" src="misc/analytics.js"></script>
	<script type="text/javascript" src="misc/colorpicker.min.js"></script>
	<script type="text/javascript" src="src/color.js"></script>
	<script>
		var configMethods = ["hueShift", "contrasts", "monochrome", "quadrat", "monochromeLight", "monochromeDark"];
		var activeMethod = {active:false};
		
		var main;
		
		//get HEX out of hash
		(function(){
			var hash = window.location.hash.replace(/[^0-9a-f]/gi, "");
			if (hash && (hash.length === 3 || hash.length === 6)) {
				main = Color(hash);
			}
			else main = Color("ff0000");
		})();
		
		function O(id){ return document.getElementById(id); }
		function str(obj){
			if (typeof obj === "string") return "<b>" + obj + "</b>";
			var arr = [];
			for (i in obj){ arr.push(i + ": " + obj[i]); }
			return "<b>" + arr.join(', ') + "</b>";
		}
		
		//view color info
		function info(color, trim){
			var code = "<div class='info'>";
			if (trim){
				code += "<div>" + str(color.CSS()) + "</div>";
				code += "<div>" + str(color.RGB()) + "</div>";
				code += "<div>" + str(color.HSV()) + "</div>";
				code += "<div>" + str(color.HSL()) + "</div>";
			}
			else{
				code = "<p>Info:</p>";
				code += "<div>HEX: " + str(color.CSS()) + "</div>";
				code += "<div>RGBA: " + str(color.RGB()) + "</div>";
				code += "<div>HSV: " + str(color.HSV()) + "</div>";
				code += "<div>HSL: " + str(color.HSL()) + "</div>";
			}
			code += "</div>";
			return code;
		}
		//view for swatch
		function swatch(color){
			var div = document.createElement("div");
			div.className = "inline color";
			div.style.backgroundColor = color.CSS();
			
			div.innerHTML = info(color, true);
			return div;
		}
		//reset unused number input methods
		function resetInputs(method){
			for (var i = 0; i < configMethods.length; i++){
				if (configMethods[i] !== method) O(configMethods[i]).value = "";
			}
		}
		//calculate color scheme
		function calc(method, n){ 
			//set active method
			activeMethod = { name:method, n:n, active:true };
			
			var res = main[method](n);
			var html = O("results");
			
			var title = method;
			if (method === "hueShift") title = method + " " + n + " degrees";
			
			html.innerHTML = "<div class='label'>" + title + "</div>";
			
			//add each color to DOM
			for (var i = 0; i < res.length; i++){
				html.appendChild( swatch(res[i]) );
			}
			
			resetInputs(method);
		}
		//change main color
		function change(color){
			main = color;
			O('main').style.backgroundColor = color.CSS();
			O("info").innerHTML = info(color);
			
			//color scheme resets
			O("results").innerHTML = "";
			O("hueShift").value = "";
			O("contrasts").value = "";
			
			//set hash
			window.location.hash = color.HEX();
			
			//execute active method
			if (activeMethod.active) calc(activeMethod.name, activeMethod.n);
		}
		
		//set listeners
		for (var i = 0; i < configMethods.length; i++){
			O(configMethods[i]).oninput = function oninput(){
				calc(this.id, this.value);
			};
		}
		
		//color init
		change(main);
		
		//color picker init
		var cp = ColorPicker( O('slide'), O('picker'),
		function(hex, hsv, rgb) {
			//console.log(hex);
			//console.log(hsv);
			//console.log(rgb);
			change(Color(rgb));
		});
		cp.setRgb( main.RGBA );
	</script>
</body>
</html>